<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†Ù‡Ø¬ÙŠØ© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ù…Ù… ÙˆØ§Ù„Ù‚ÙŠØ¹Ø§Ù† ÙˆØ§Ù„Ø£Ù‡Ø¯Ø§Ù Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø°Ø± ÙˆØ§Ù„Ù†ÙØ³ÙØ¨ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }
        
        .dark-mode {
            --primary-color: #1a252f;
            --secondary-color: #2980b9;
            --accent-color: #c0392b;
            --success-color: #219653;
            --light-color: #2c3e50;
            --dark-color: #ecf0f1;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            --background-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #f5f5f5;
            --input-bg: #2d2d2d;
            --border-color: #444;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            min-height: 100vh;
            padding: 0;
            transition: var(--transition);
        }
        
        body.dark-mode {
            color: var(--text-color);
            background: linear-gradient(135deg, #121212 0%, #1a1a1a 100%);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 0;
            border-bottom-left-radius: var(--border-radius);
            border-bottom-right-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }
        
        .header-content {
            position: relative;
            z-index: 1;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
            transition: var(--transition);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            transition: var(--transition);
        }
        
        /* Theme Toggle Button */
        .theme-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: var(--secondary-color);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: var(--transition);
        }
        
        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
        }
        
        .theme-toggle i {
            font-size: 1.5rem;
        }
        
        /* Calculator Section */
        .calculator-section {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .dark-mode .calculator-section {
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        .calculator-section:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .dark-mode .calculator-section:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }
        
        .calculator-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--light-color);
            padding-bottom: 1rem;
        }
        
        .calculator-header i {
            font-size: 2rem;
            color: var(--secondary-color);
            margin-left: 1rem;
        }
        
        .calculator-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        @media (max-width: 768px) {
            .calculator-content {
                grid-template-columns: 1fr;
            }
        }
        
        .input-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary-color);
            transition: var(--transition);
        }
        
        .dark-mode label {
            color: var(--text-color);
        }
        
        input[type="number"] {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1.1rem;
            transition: var(--transition);
            background-color: white;
            color: #333;
        }
        
        .dark-mode input[type="number"] {
            background-color: var(--input-bg);
            color: var(--text-color);
            border-color: var(--border-color);
        }
        
        input[type="number"]:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 0.9rem 1.8rem;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn:hover {
            background-color: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(41, 128, 185, 0.3);
        }
        
        .btn i {
            margin-left: 0.5rem;
        }
        
        .results-container {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            border-right: 5px solid var(--secondary-color);
            transition: var(--transition);
        }
        
        .dark-mode .results-container {
            background-color: var(--input-bg);
            color: var(--text-color);
        }
        
        .result-item {
            padding: 0.8rem 0;
            border-bottom: 1px dashed #ddd;
            display: flex;
            justify-content: space-between;
            transition: var(--transition);
        }
        
        .dark-mode .result-item {
            border-bottom-color: var(--border-color);
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-label {
            font-weight: 600;
            color: var(--primary-color);
            transition: var(--transition);
        }
        
        .dark-mode .result-label {
            color: var(--text-color);
        }
        
        .result-value, .correction-value {
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            padding: 2px 6px;
            border-radius: 4px;
            position: relative;
        }
        
        .result-value:hover, .correction-value:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .dark-mode .result-value:hover, .dark-mode .correction-value:hover {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        .result-value {
            color: var(--success-color);
        }
        
        .correction-value {
            color: var(--accent-color);
        }
        
        .copy-tooltip {
            position: absolute;
            top: -30px;
            right: 0;
            background-color: var(--primary-color);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.2s;
            white-space: nowrap;
            z-index: 10;
        }
        
        .result-value:hover .copy-tooltip,
        .correction-value:hover .copy-tooltip {
            opacity: 1;
        }
        
        /* Main Content Sections */
        .content-section {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 1.8rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-top: 5px solid var(--secondary-color);
            height: 100%;
        }
        
        .dark-mode .card {
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }
        
        .dark-mode .card:hover {
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.5);
        }
        
        .card-1 {
            border-top-color: #3498db;
        }
        
        .card-2 {
            border-top-color: #e74c3c;
        }
        
        .card-3 {
            border-top-color: #27ae60;
        }
        
        .card-4 {
            border-top-color: #f39c12;
        }
        
        .card-5 {
            border-top-color: #9b59b6;
        }
        
        .card-6 {
            border-top-color: #1abc9c;
        }
        
        h2 {
            color: var(--primary-color);
            margin-bottom: 1.2rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light-color);
            display: flex;
            align-items: center;
            transition: var(--transition);
        }
        
        .dark-mode h2 {
            color: var(--text-color);
            border-bottom-color: var(--border-color);
        }
        
        h2 i {
            margin-left: 0.8rem;
            color: var(--secondary-color);
        }
        
        h3 {
            color: var(--dark-color);
            margin: 1.2rem 0 0.8rem;
            transition: var(--transition);
        }
        
        .dark-mode h3 {
            color: var(--text-color);
        }
        
        ul, ol {
            padding-right: 1.5rem;
            margin-bottom: 1.2rem;
        }
        
        li {
            margin-bottom: 0.5rem;
        }
        
        .formula-box {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1.2rem;
            margin: 1.2rem 0;
            border-right: 4px solid var(--secondary-color);
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            direction: ltr;
            text-align: center;
            transition: var(--transition);
        }
        
        .dark-mode .formula-box {
            background-color: var(--input-bg);
            color: var(--text-color);
        }
        
        .highlight {
            background-color: #fff9e6;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            font-weight: 600;
            color: var(--dark-color);
            transition: var(--transition);
        }
        
        .dark-mode .highlight {
            background-color: #2d2d2d;
            color: var(--text-color);
        }
        
        .ratio-comparison {
            display: flex;
            justify-content: space-between;
            margin: 1.5rem 0;
        }
        
        .ratio-box {
            flex: 1;
            padding: 1.2rem;
            border-radius: 8px;
            text-align: center;
            margin: 0 0.5rem;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
        }
        
        .dark-mode .ratio-box {
            background-color: var(--input-bg);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }
        
        .ratio-96 {
            background-color: rgba(231, 76, 60, 0.1);
            border-top: 4px solid var(--accent-color);
        }
        
        .ratio-97 {
            background-color: rgba(39, 174, 96, 0.1);
            border-top: 4px solid var(--success-color);
        }
        
        .ratio-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        /* Process Visualization */
        .process-visualization {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .dark-mode .process-visualization {
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        .process-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-top: 2rem;
        }
        
        .process-steps::before {
            content: '';
            position: absolute;
            top: 40px;
            right: 0;
            left: 0;
            height: 3px;
            background-color: var(--light-color);
            z-index: 1;
            transition: var(--transition);
        }
        
        .dark-mode .process-steps::before {
            background-color: var(--border-color);
        }
        
        .step {
            flex: 1;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .step-icon {
            width: 80px;
            height: 80px;
            background-color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            border: 3px solid var(--secondary-color);
            font-size: 1.8rem;
            color: var(--secondary-color);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }
        
        .dark-mode .step-icon {
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        .step-title {
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            transition: var(--transition);
        }
        
        .dark-mode .step-title {
            color: var(--text-color);
        }
        
        /* Footer */
        footer {
            background-color: var(--primary-color);
            color: white;
            padding: 2rem 0;
            border-top-left-radius: var(--border-radius);
            border-top-right-radius: var(--border-radius);
            margin-top: 3rem;
            text-align: center;
            transition: var(--transition);
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .disclaimer {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            font-size: 0.9rem;
            line-height: 1.6;
            transition: var(--transition);
        }
        
        .dark-mode .disclaimer {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .content-section {
                grid-template-columns: 1fr;
            }
                
            .process-steps {
                flex-direction: column;
            }
                
            .process-steps::before {
                display: none;
            }
                
            .step {
                margin-bottom: 2rem;
            }
                
            h1 {
                font-size: 1.8rem;
            }
                
            .ratio-comparison {
                flex-direction: column;
            }
                
            .ratio-box {
                margin: 0.5rem 0;
            }
                
            .theme-toggle {
                top: 10px;
                left: 10px;
                width: 40px;
                height: 40px;
            }
        }
        
        /* Message Styles */
        .message {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: none;
        }
        
        .success-message {
            background-color: rgba(39, 174, 96, 0.1);
            border-right: 4px solid var(--success-color);
            color: var(--success-color);
        }
        
        .error-message {
            background-color: rgba(231, 76, 60, 0.1);
            border-right: 4px solid var(--accent-color);
            color: var(--accent-color);
        }
        
        .placeholder {
            color: #666;
            font-style: italic;
            text-align: center;
            padding: 1rem;
            transition: var(--transition);
        }
        
        .dark-mode .placeholder {
            color: #aaa;
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success-color);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Ø£Ù†Ù…Ø§Ø· Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ */
        #authModal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .auth-modal-content {
            background: white;
            width: 95%;
            max-width: 400px;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .dark-mode .auth-modal-content {
            background: var(--card-bg);
            color: var(--text-color);
        }
        
        .auth-header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .auth-header h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
            border: none;
        }
        
        .auth-form input {
            width: 100%;
            padding: 12px 15px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .dark-mode .auth-form input {
            background-color: var(--input-bg);
            color: var(--text-color);
            border-color: var(--border-color);
        }
        
        .auth-form button {
            width: 100%;
            padding: 14px;
            margin-top: 15px;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }
        
        .auth-form button:hover {
            background: #2980b9;
        }
        
        .auth-switch {
            text-align: center;
            margin-top: 20px;
            color: #666;
        }
        
        .auth-switch a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 600;
        }
        
        .verification-code {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin: 15px 0;
            font-family: monospace;
            font-size: 20px;
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .user-icon {
            position: fixed;
            top: 20px;
            right: 80px;
            background: var(--secondary-color);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .admin-panel {
            position: fixed;
            top: 80px;
            right: 20px;
            background: white;
            color: #333;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            max-height: 80vh;
            overflow-y: auto;
            width: 320px;
            z-index: 1000;
        }
        
        .dark-mode .admin-panel {
            background: var(--card-bg);
            color: var(--text-color);
        }
        
        .admin-panel h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .pending-request, .user-item {
            background: #f8f9fa;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
            border-right: 4px solid var(--secondary-color);
        }
        
        .dark-mode .pending-request,
        .dark-mode .user-item {
            background: var(--input-bg);
        }
        
        .admin-actions {
            display: flex;
            gap: 8px;
            margin-top: 10px;
        }
        
        .admin-btn {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .approve-btn {
            background: var(--success-color);
            color: white;
        }
        
        .reject-btn {
            background: var(--accent-color);
            color: white;
        }
        
        .set-sub-btn {
            background: var(--secondary-color);
            color: white;
        }
        
        .subscription-info {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .dark-mode .subscription-info {
            color: #aaa;
        }
    </style>
</head>
<body>
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ">
        <i id="themeIcon" class="fas fa-moon"></i>
    </button>
    
    <!-- User Icon -->
    <div class="user-icon" id="userIcon">
        <i class="fas fa-user"></i>
    </div>
    
    <!-- Admin Panel (Ø³ÙŠØ¸Ù‡Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„) -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <h3>ğŸ‘‘ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</h3>
        <div id="pendingRequests"></div>
        <div id="usersList"></div>
        <button onclick="refreshAdminPanel()" style="width:100%; margin-top:15px; padding:10px; background:#3498db; color:white; border:none; border-radius:5px;">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
    </div>
    
    <!-- Authentication Modal -->
    <div id="authModal" style="display: none;">
        <div class="auth-modal-content">
            <div class="auth-header">
                <h2 id="authTitle">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
                <p id="authSubtitle">Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø­ØªÙˆÙ‰</p>
            </div>
            
            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <input type="email" id="loginEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                <input type="password" id="loginPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
                <div class="auth-switch">
                    Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <a href="#" onclick="showRegisterForm()">Ø³Ø¬Ù„ Ø§Ù„Ø¢Ù†</a>
                </div>
            </div>
            
            <!-- Register Form -->
            <div id="registerForm" class="auth-form" style="display: none;">
                <input type="email" id="registerEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                <input type="password" id="registerPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)">
                <button onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
                <div class="auth-switch">
                    Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a href="#" onclick="showLoginForm()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
                </div>
            </div>
            
            <!-- Verification Form -->
            <div id="verificationForm" class="auth-form" style="display: none;">
                <div class="verification-code" id="verificationCodeDisplay"></div>
                <p style="text-align: center; margin-bottom: 15px;">ğŸ“© Ø£Ø±Ø³Ù„ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ Ù„ØªØ£ÙƒÙŠØ¯ Ø­Ø³Ø§Ø¨Ùƒ</p>
                <input type="text" id="adminVerificationCode" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„">
                <button onclick="verifyAccount()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
                <div class="auth-switch">
                    <a href="#" onclick="showLoginForm()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
                </div>
            </div>
        </div>
    </div>
    
    <header>
        <div class="container header-content">
            <h1><i class="fas fa-chart-line"></i> Ù…Ù†Ù‡Ø¬ÙŠØ© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ù…Ù… ÙˆØ§Ù„Ù‚ÙŠØ¹Ø§Ù† ÙˆØ§Ù„Ø£Ù‡Ø¯Ø§Ù Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¬Ø°Ø± ÙˆØ§Ù„Ù†ÙØ³ÙØ¨ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©</h1>
            <p class="subtitle">ØªØ­Ù„ÙŠÙ„ Ø­Ø±ÙƒØ© Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ù„Ø§Ù‚Ø© Ù‡Ù†Ø¯Ø³ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠ Ù„Ù„Ø³Ø¹Ø± ÙˆØ§Ù„Ø¥Ø²Ø§Ø­Ø© (+1.5)ØŒ Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ù†Ø³Ø¨ ØªØµØ­ÙŠØ­ Ø¯Ù‚ÙŠÙ‚Ø© (0.96 Ùˆ0.97)</p>
        </div>
    </header>
    
    <div class="container" id="mainContent">
        <!-- Calculator Section -->
        <section class="calculator-section">
            <div class="calculator-header">
                <i class="fas fa-calculator"></i>
                <h2>Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ©</h2>
            </div>
                
            <div class="calculator-content">
                <div class="input-section">
                    <div class="input-group">
                        <label for="price"><i class="fas fa-dollar-sign"></i> Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ:</label>
                        <input type="number" id="price" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ" step="0.0001">
                    </div>
                    
                    <div class="input-group">
                        <label for="targetType"><i class="fas fa-bullseye"></i> Ù†ÙˆØ¹ Ø§Ù„Ù‡Ø¯Ù:</label>
                        <select id="targetType" style="width:100%; padding:10px; border-radius:8px; border:2px solid #ddd;">
                            <option value="up">Ù‡Ø¯Ù ØµØ¹ÙˆØ¯ÙŠ</option>
                            <option value="down">Ù‡Ø¯Ù Ù‡Ø¨ÙˆØ·ÙŠ</option>
                        </select>
                    </div>
                    
                    <button class="btn" onclick="calculate()">
                        <i class="fas fa-calculator"></i> Ø§Ø­Ø³Ø¨ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
                    </button>
                </div>
                
                <div class="results-container">
                    <h3 style="color:var(--primary-color); margin-bottom:15px;">Ø§Ù„Ù†ØªØ§Ø¦Ø¬:</h3>
                    <div id="results">
                        <div class="result-item">
                            <span class="result-label">Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠ:</span>
                            <span class="result-value" id="sqrtResult">-</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Ø§Ù„Ø¬Ø°Ø± + 1.5:</span>
                            <span class="result-value" id="sqrtPlusResult">-</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:</span>
                            <span class="result-value" id="targetResult">-</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">ØªØµØ­ÙŠØ­ 0.96:</span>
                            <span class="correction-value" id="correction96">-</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">ØªØµØ­ÙŠØ­ 0.97:</span>
                            <span class="correction-value" id="correction97">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Content Sections -->
        <div class="content-section">
            <div class="card card-1">
                <h2><i class="fas fa-cube"></i> Ø§Ù„Ø£Ø³Ø§Ø³ Ø§Ù„Ù†Ø¸Ø±ÙŠ</h2>
                <p>ØªØ¹ØªÙ…Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠ Ù„Ù„Ø³Ø¹Ø± ÙˆØ§Ù„Ø¥Ø²Ø§Ø­Ø© Ø§Ù„Ø«Ø§Ø¨ØªØ© (+1.5)ØŒ ÙˆØ§Ù„ØªÙŠ ØªØ´ÙƒÙ„ Ø£Ø³Ø§Ø³Ø§Ù‹ Ø±ÙŠØ§Ø¶ÙŠØ§Ù‹ Ù„ØªÙˆÙ‚Ø¹ Ø­Ø±ÙƒØ© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±.</p>
                <div class="formula-box">âˆš(Ø§Ù„Ø³Ø¹Ø±) + 1.5 = Ø§Ù„Ø£Ø³Ø§Ø³ Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠ</div>
                <p>ÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ù…Ø¹ Ù†Ø³Ø¨ ØªØµØ­ÙŠØ­ Ø¯Ù‚ÙŠÙ‚Ø© (0.96 Ùˆ 0.97) Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙŠØ§Øª Ø¯Ù‚ÙŠÙ‚Ø© Ù„Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø©.</p>
            </div>
            
            <div class="card card-2">
                <h2><i class="fas fa-ruler-combined"></i> ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù†ÙØ³ÙØ¨ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©</h2>
                <h3>Ù†Ø³Ø¨Ø© 0.96</h3>
                <p>ØªØ³ØªØ®Ø¯Ù… ÙƒØ£ÙˆÙ„ Ù…Ø³ØªÙˆÙ‰ ØªØµØ­ÙŠØ­ØŒ ÙˆØªØ¹ØªØ¨Ø± Ù…Ù†Ø·Ù‚Ø© Ø¯Ø¹Ù…/Ù…Ù‚Ø§ÙˆÙ…Ø© Ù‚ÙˆÙŠØ©.</p>
                <h3>Ù†Ø³Ø¨Ø© 0.97</h3>
                <p>ØªØ³ØªØ®Ø¯Ù… ÙƒÙ…Ù†Ø·Ù‚Ø© ØªØµØ­ÙŠØ­ Ø«Ø§Ù†ÙˆÙŠØ©ØŒ ÙˆØºØ§Ù„Ø¨Ø§Ù‹ Ù…Ø§ ØªÙƒÙˆÙ† Ù…Ù†Ø·Ù‚Ø© Ø¯Ø®ÙˆÙ„ Ø¬ÙŠØ¯Ø©.</p>
                <div class="ratio-comparison">
                    <div class="ratio-box ratio-96">
                        <div class="ratio-title">0.96</div>
                        <p>ØªØµØ­ÙŠØ­ Ø±Ø¦ÙŠØ³ÙŠ</p>
                    </div>
                    <div class="ratio-box ratio-97">
                        <div class="ratio-title">0.97</div>
                        <p>ØªØµØ­ÙŠØ­ Ø«Ø§Ù†ÙˆÙŠ</p>
                    </div>
                </div>
            </div>
            
            <div class="card card-3">
                <h2><i class="fas fa-tasks"></i> Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h2>
                <ol>
                    <li>Ø­Ø¯Ø¯ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø£ØµÙ„</li>
                    <li>Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠ Ù„Ù„Ø³Ø¹Ø±</li>
                    <li>Ø£Ø¶Ù 1.5 Ø¥Ù„Ù‰ Ø§Ù„Ù†ØªÙŠØ¬Ø©</li>
                    <li>Ø§Ø­Ø³Ø¨ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¯Ù</li>
                    <li>Ø·Ø¨Ù‚ Ù†Ø³Ø¨ Ø§Ù„ØªØµØ­ÙŠØ­ 0.96 Ùˆ 0.97</li>
                </ol>
            </div>
        </div>
        
        <div class="content-section">
            <div class="card card-4">
                <h2><i class="fas fa-chart-bar"></i> ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ù…Ù… ÙˆØ§Ù„Ù‚ÙŠØ¹Ø§Ù†</h2>
                <p>Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù‡Ø¯Ù Ø§Ù„Ù…Ø­Ø³ÙˆØ¨ØŒ ÙŠØªÙ… Ù…Ø±Ø§Ù‚Ø¨Ø© Ø±Ø¯ ÙØ¹Ù„ Ø§Ù„Ø³Ø¹Ø±:</p>
                <ul>
                    <li><span class="highlight">Ø§Ù„Ø±ÙØ¶ Ø§Ù„Ù‚ÙˆÙŠ</span>: ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ù‚Ù…Ø© Ø£Ùˆ Ù‚Ø§Ø¹ Ù…Ø­ØªÙ…Ù„</li>
                    <li><span class="highlight">Ø§Ù„Ø§Ø®ØªØ±Ø§Ù‚</span>: Ù‚Ø¯ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ø­Ø±ÙƒØ©</li>
                    <li><span class="highlight">Ø§Ù„ØªØ¬Ù…ÙŠØ¹</span>: Ø¹Ù†Ø¯ Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ØªØµØ­ÙŠØ­</li>
                </ul>
            </div>
            
            <div class="card card-5">
                <h2><i class="fas fa-lightbulb"></i> Ù†ØµØ§Ø¦Ø­ Ø¹Ù…Ù„ÙŠØ©</h2>
                <ul>
                    <li>Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ© Ù…Ø¹ Ø£Ø¯ÙˆØ§Øª ØªØ­Ù„ÙŠÙ„ Ø£Ø®Ø±Ù‰</li>
                    <li>Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø·Ø± Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù„Ø¯Ù‚Ø© Ø£ÙƒØ¨Ø±</li>
                    <li>Ø§ØªØ¨Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ù…Ø®Ø§Ø·Ø± Ù…Ù†Ø§Ø³Ø¨Ø©</li>
                    <li>Ø³Ø¬Ù„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø³ØªÙ…Ø±</li>
                </ul>
            </div>
            
            <div class="card card-6">
                <h2><i class="fas fa-history"></i> Ø£Ù…Ø«Ù„Ø© ØªØ·Ø¨ÙŠÙ‚ÙŠØ©</h2>
                <p><strong>Ù…Ø«Ø§Ù„:</strong> Ø³Ø¹Ø± 100$</p>
                <ul>
                    <li>âˆš100 = 10</li>
                    <li>10 + 1.5 = 11.5</li>
                    <li>11.5Â² = 132.25$ (Ø§Ù„Ù‡Ø¯Ù)</li>
                    <li>ØªØµØ­ÙŠØ­ 0.96: 126.96$</li>
                    <li>ØªØµØ­ÙŠØ­ 0.97: 128.28$</li>
                </ul>
            </div>
        </div>
        
        <!-- Process Visualization -->
        <section class="process-visualization">
            <h2><i class="fas fa-project-diagram"></i> Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨ØµØ±ÙŠØ©</h2>
            <div class="process-steps">
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-search-dollar"></i>
                    </div>
                    <div class="step-title">Ø§Ù„Ø®Ø·ÙˆØ© 1</div>
                    <p>ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-square-root-alt"></i>
                    </div>
                    <div class="step-title">Ø§Ù„Ø®Ø·ÙˆØ© 2</div>
                    <p>Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠ</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <div class="step-title">Ø§Ù„Ø®Ø·ÙˆØ© 3</div>
                    <p>Ø¥Ø¶Ø§ÙØ© 1.5</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <div class="step-title">Ø§Ù„Ø®Ø·ÙˆØ© 4</div>
                    <p>Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø±Ø¨Ø¹ ÙˆØ§Ù„ØªØµØ­ÙŠØ­Ø§Øª</p>
                </div>
            </div>
        </section>
    </div>
    
    <footer>
        <div class="container footer-content">
            <p>Â© 2024 Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
            <div class="disclaimer">
                <p><strong>ØªÙ†ÙˆÙŠÙ‡:</strong> Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ© Ù„Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ø¨Ø­Ø«ÙŠØ© ÙÙ‚Ø·. Ù„ÙŠØ³Øª Ù†ØµÙŠØ­Ø© Ù…Ø§Ù„ÙŠØ©. Ø§Ù„ØªØ¯Ø§ÙˆÙ„ ÙŠØ­Ù…Ù„ Ù…Ø®Ø§Ø·Ø±.</p>
            </div>
        </div>
    </footer>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBqZ0SIcEGKhdWQPsHqJWg9OA2ynsYPecc",
            authDomain: "geo-arfx.firebaseapp.com",
            projectId: "geo-arfx",
            storageBucket: "geo-arfx.firebasestorage.app",
            messagingSenderId: "50194739736",
            appId: "1:50194739736:web:8b98ce7edfbd0be95c896d"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        
        // Global Variables
        let currentUser = null;
        let verificationCode = '';
        let isAdmin = false;
        
        // DOM Elements
        const authModal = document.getElementById('authModal');
        const userIcon = document.getElementById('userIcon');
        const adminPanel = document.getElementById('adminPanel');
        const mainContent = document.getElementById('mainContent');
        
        // Authentication Functions
        function showLoginForm() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('verificationForm').style.display = 'none';
            document.getElementById('authTitle').textContent = 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';
            document.getElementById('authSubtitle').textContent = 'Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø­ØªÙˆÙ‰';
        }
        
        function showRegisterForm() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
            document.getElementById('verificationForm').style.display = 'none';
            document.getElementById('authTitle').textContent = 'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯';
            document.getElementById('authSubtitle').textContent = 'Ø³Ø¬Ù„ Ø­Ø³Ø§Ø¨Ùƒ Ù„Ù„Ø¨Ø¯Ø¡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹';
        }
        
        function showVerificationForm(code) {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('verificationForm').style.display = 'block';
            document.getElementById('verificationCodeDisplay').textContent = code;
            document.getElementById('authTitle').textContent = 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨';
            document.getElementById('authSubtitle').textContent = 'Ø£Ø±Ø³Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ Ù„ØªØ£ÙƒÙŠØ¯ Ø­Ø³Ø§Ø¨Ùƒ';
            verificationCode = code;
        }
        
        // Register Function
        async function register() {
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            
            if (!email || !password) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }
            
            if (password.length < 6) {
                alert('âš ï¸ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                return;
            }
            
            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                currentUser = userCredential.user;
                
                // Generate verification code
                const code = Math.random().toString(36).substring(2, 10).toUpperCase();
                
                // Save user to Firestore
                await db.collection('users').doc(currentUser.uid).set({
                    email: email,
                    createdAt: new Date(),
                    subscriptionEnd: null,
                    devices: [],
                    isActive: false,
                    verificationCode: code
                });
                
                // Add to admin notifications
                await db.collection('adminNotifications').add({
                    userId: currentUser.uid,
                    email: email,
                    verificationCode: code,
                    status: 'pending',
                    type: 'newUser',
                    timestamp: new Date(),
                    deviceInfo: navigator.userAgent
                });
                
                // Show verification form
                showVerificationForm(code);
                alert('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ø£Ø±Ø³Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„.');
                
            } catch (error) {
                alert('âŒ Ø®Ø·Ø£: ' + error.message);
            }
        }
        
        // Login Function
        async function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }
            
            try {
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                currentUser = userCredential.user;
                
                // Check if user is admin
                if (email === 'hnhbhm1@gmail.com') { // ØªØºÙŠÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù„Ø¨Ø±ÙŠØ¯Ùƒ
                    isAdmin = true;
                    adminPanel.style.display = 'block';
                    loadAdminPanel();
                }
                
                // Get user data
                const userDoc = await db.collection('users').doc(currentUser.uid).get();
                
                if (userDoc.exists) {
                    const userData = userDoc.data();
                    
                    // Check subscription
                    if (userData.subscriptionEnd && new Date(userData.subscriptionEnd.toDate()) < new Date()) {
                        alert('âš ï¸ Ø§Ø´ØªØ±Ø§ÙƒÙƒ Ù…Ù†ØªÙ‡ÙŠ! Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ù„ØªØ¬Ø¯ÙŠØ¯Ù‡');
                        return;
                    }
                    
                    // Check if user is active
                    if (!userData.isActive) {
                        showVerificationForm(userData.verificationCode || 'CODE123');
                        alert('âš ï¸ Ø­Ø³Ø§Ø¨Ùƒ ØºÙŠØ± Ù…ÙØ¹Ù„ Ø¨Ø¹Ø¯! Ø£Ø±Ø³Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„');
                        return;
                    }
                    
                    // Check device
                    const deviceId = generateDeviceId();
                    if (!userData.devices || userData.devices.length === 0) {
                        // First device
                        await db.collection('users').doc(currentUser.uid).update({
                            devices: [deviceId]
                        });
                    } else if (!userData.devices.includes(deviceId)) {
                        // New device - requires verification
                        const code = Math.random().toString(36).substring(2, 8).toUpperCase();
                        showVerificationForm(code);
                        
                        await db.collection('adminNotifications').add({
                            userId: currentUser.uid,
                            email: email,
                            verificationCode: code,
                            status: 'pending',
                            type: 'newDevice',
                            timestamp: new Date(),
                            deviceInfo: navigator.userAgent
                        });
                        
                        alert('âš ï¸ Ù‡Ø°Ø§ Ø¬Ù‡Ø§Ø² Ø¬Ø¯ÙŠØ¯! Ø£Ø±Ø³Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ Ù„ØªØ£ÙƒÙŠØ¯Ù‡');
                        return;
                    }
                    
                    // Successful login
                    authModal.style.display = 'none';
                    userIcon.innerHTML = '<i class="fas fa-user-check"></i>';
                    alert('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!');
                    
                } else {
                    alert('âŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
                }
                
            } catch (error) {
                alert('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: ' + error.message);
            }
        }
        
        // Verify Account Function
        async function verifyAccount() {
            const enteredCode = document.getElementById('adminVerificationCode').value;
            
            if (!enteredCode) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯');
                return;
            }
            
            try {
                // Check if code exists and is approved
                const q = db.collection('adminNotifications')
                    .where('verificationCode', '==', verificationCode)
                    .where('status', '==', 'approved');
                
                const snapshot = await q.get();
                
                if (!snapshot.empty) {
                    // Update user as active
                    await db.collection('users').doc(currentUser.uid).update({
                        isActive: true,
                        devices: [generateDeviceId()]
                    });
                    
                    authModal.style.display = 'none';
                    userIcon.innerHTML = '<i class="fas fa-user-check"></i>';
                    alert('âœ… ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!');
                } else {
                    alert('âŒ Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„ÙŠÙ‡ Ø¨Ø¹Ø¯');
                }
                
            } catch (error) {
                alert('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ£ÙƒÙŠØ¯: ' + error.message);
            }
        }
        
        // Admin Functions
        async function loadAdminPanel() {
            try {
                // Load pending requests
                const pendingQuery = db.collection('adminNotifications')
                    .where('status', '==', 'pending');
                
                const pendingSnapshot = await pendingQuery.get();
                let pendingHTML = '<h4>ğŸ“‹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©:</h4>';
                
                if (pendingSnapshot.empty) {
                    pendingHTML += '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø©</p>';
                } else {
                    pendingSnapshot.forEach(doc => {
                        const data = doc.data();
                        pendingHTML += `
                            <div class="pending-request">
                                <p><strong>ğŸ“§ ${data.email}</strong></p>
                                <p>Ø§Ù„ÙƒÙˆØ¯: <code>${data.verificationCode}</code></p>
                                <p>Ø§Ù„Ù†ÙˆØ¹: ${data.type === 'newUser' ? 'Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯' : 'Ø¬Ù‡Ø§Ø² Ø¬Ø¯ÙŠØ¯'}</p>
                                <div class="admin-actions">
                                    <button class="admin-btn approve-btn" onclick="approveRequest('${doc.id}', '${data.userId}', '${data.verificationCode}')">âœ… Ù‚Ø¨ÙˆÙ„</button>
                                    <button class="admin-btn reject-btn" onclick="rejectRequest('${doc.id}')">âŒ Ø±ÙØ¶</button>
                                </div>
                            </div>
                        `;
                    });
                }
                
                document.getElementById('pendingRequests').innerHTML = pendingHTML;
                
                // Load users
                const usersSnapshot = await db.collection('users').get();
                let usersHTML = '<h4>ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:</h4>';
                
                if (usersSnapshot.empty) {
                    usersHTML += '<p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</p>';
                } else {
                    usersSnapshot.forEach(doc => {
                        const data = doc.data();
                        const subEnd = data.subscriptionEnd ? 
                            new Date(data.subscriptionEnd.toDate()).toLocaleDateString('ar-SA') : 
                            'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
                        
                        usersHTML += `
                            <div class="user-item">
                                <p><strong>${data.email}</strong></p>
                                <p class="subscription-info">Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ: ${subEnd}</p>
                                <input type="date" id="subDate_${doc.id}" style="width:100%; padding:5px; margin:5px 0;">
                                <div class="admin-actions">
                                    <button class="admin-btn set-sub-btn" onclick="setSubscription('${doc.id}')">ğŸ“… ØªØ¹ÙŠÙŠÙ† Ø§Ø´ØªØ±Ø§Ùƒ</button>
                                </div>
                            </div>
                        `;
                    });
                }
                
                document.getElementById('usersList').innerHTML = usersHTML;
                
            } catch (error) {
                console.error('Error loading admin panel:', error);
                alert('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…');
            }
        }
        
        async function approveRequest(notificationId, userId, verificationCode) {
            try {
                // Update notification
                await db.collection('adminNotifications').doc(notificationId).update({
                    status: 'approved'
                });
                
                // Update user
                await db.collection('users').doc(userId).update({
                    isActive: true
                });
                
                alert('âœ… ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­');
                loadAdminPanel();
                
            } catch (error) {
                alert('âŒ Ø®Ø·Ø£ ÙÙŠ Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨: ' + error.message);
            }
        }
        
        async function rejectRequest(notificationId) {
            try {
                await db.collection('adminNotifications').doc(notificationId).update({
                    status: 'rejected'
                });
                
                alert('âœ… ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨');
                loadAdminPanel();
                
            } catch (error) {
                alert('âŒ Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨: ' + error.message);
            }
        }
        
        async function setSubscription(userId) {
            const dateInput = document.getElementById(`subDate_${userId}`);
            const selectedDate = dateInput.value;
            
            if (!selectedDate) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØªØ§Ø±ÙŠØ®');
                return;
            }
            
            try {
                await db.collection('users').doc(userId).update({
                    subscriptionEnd: new Date(selectedDate)
                });
                
                alert('âœ… ØªÙ… ØªØ¹ÙŠÙŠÙ† ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø¨Ù†Ø¬Ø§Ø­');
                loadAdminPanel();
                
            } catch (error) {
                alert('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ: ' + error.message);
            }
        }
        
        function refreshAdminPanel() {
            loadAdminPanel();
            alert('ğŸ”„ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
        }
        
        // Helper Functions
        function generateDeviceId() {
            return 'device_' + Math.random().toString(36).substring(2, 9);
        }
        
        // Authentication State Listener
        auth.onAuthStateChanged((user) => {
            if (user) {
                currentUser = user;
                userIcon.innerHTML = '<i class="fas fa-user-check"></i>';
                
                // Check if admin
                if (user.email === 'hnhbhm1@gmail.com') { // ØªØºÙŠÙŠØ± Ù‡Ø°Ø§ Ù„Ø¨Ø±ÙŠØ¯Ùƒ
                    isAdmin = true;
                    adminPanel.style.display = 'block';
                    loadAdminPanel();
                }
                
                // Hide auth modal if user is logged in
                authModal.style.display = 'none';
                
            } else {
                currentUser = null;
                userIcon.innerHTML = '<i class="fas fa-user"></i>';
                authModal.style.display = 'flex';
                showLoginForm();
                adminPanel.style.display = 'none';
            }
        });
        
        // Event Listeners
        userIcon.addEventListener('click', () => {
            if (currentUser) {
                auth.signOut();
                alert('ğŸ‘‹ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');
            } else {
                authModal.style.display = 'flex';
                showLoginForm();
            }
        });
        
        // Close modal when clicking outside
        authModal.addEventListener('click', (e) => {
            if (e.target === authModal) {
                authModal.style.display = 'none';
            }
        });
        
        // Calculator Functions
        function calculate() {
            const price = parseFloat(document.getElementById('price').value);
            const targetType = document.getElementById('targetType').value;
            
            if (!price || price <= 0) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± ØµØ­ÙŠØ­');
                return;
            }
            
            const sqrtPrice = Math.sqrt(price);
            const sqrtPlus = sqrtPrice + 1.5;
            const target = Math.pow(sqrtPlus, 2);
            
            let correction96, correction97;
            
            if (targetType === 'up') {
                correction96 = target * 0.96;
                correction97 = target * 0.97;
            } else {
                correction96 = target * 1.04; // Inverse for down targets
                correction97 = target * 1.03;
            }
            
            // Update results
            document.getElementById('sqrtResult').textContent = sqrtPrice.toFixed(4);
            document.getElementById('sqrtPlusResult').textContent = sqrtPlus.toFixed(4);
            document.getElementById('targetResult').textContent = target.toFixed(4);
            document.getElementById('correction96').textContent = correction96.toFixed(4);
            document.getElementById('correction97').textContent = correction97.toFixed(4);
            
            // Add copy functionality
            document.querySelectorAll('.result-value, .correction-value').forEach(el => {
                el.onclick = function() {
                    navigator.clipboard.writeText(this.textContent);
                    showToast('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù‚ÙŠÙ…Ø©: ' + this.textContent);
                };
            });
        }
        
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => toast.classList.add('show'), 100);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
        
        // Dark Mode Toggle
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeIcon.className = 'fas fa-sun';
            } else {
                themeIcon.className = 'fas fa-moon';
            }
        });
        
        // Initialize
        showLoginForm();
    </script>
</body>
</html>
